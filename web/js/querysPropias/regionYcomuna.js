var RegionesYcomunas = {

	"regiones": [{
                        "NombreRegion": "Antofagasta",
			"comunas": ["Antofagasta", "Calama", "Maria Elena", "Mejillones", "TalTal", "Tocopilla"]			
	},
		{
                        "NombreRegion": "Arica y Parinacota",
			"comunas": ["Arica"]			
	},
		{
                        "NombreRegion": "Atacama",
			"comunas": ["Caldera", "Chanaral", "Codelco Radomiro Tomic", "Copiap\u00F3", "Diego De Almagro", "El Salvado", "El Salvador", "Estaci\u00F3n Paipote", "Freirina", "Fuerte Baquedano", "Huasco", "Paipote", "San Pedro De Atacama", "Tierra Amarilla", "Vallenar"]			
	},
		{
                        "NombreRegion": "Ays\u00E9n",
			"comunas": ["Balmaceda", "Chile Chico", "Cochrane", "Coyhaique", "La Junta", "Puerto Aguirre", "Puerto Ays\u00E9n", "Puerto Chacabuco", "Puerto Cisnes", "Puyuhuapi", "Villa Manihuales"]			
	},
		{
                        "NombreRegion": "Biob\u00EDo",
			"comunas": ["Bulnes", "Cabrero", "Canete", "Chiguayante", "Chill\u00E0n", "Cholguan", "Coelemu", "Coihueco", "Concepci\u00F3n", "Coronel", "Curanilahue", "El Carmen", "Hualp\u00E9n", "Hu\u00E9pil", "Laja", "Lebu", "Los \u00C1ngeles", "Lota", "Mulch \u00E9n", "Nacimiento", "Nueva Aldea", "Pemuco", "Penco", "Pinto", "Pueblo Seco", "Quill\u00F3n", "Quirihue", "Quiriquina", "San Carlos", "San Ignacio", "San Pedro De La Paz", "San Rosendo", "Santa B\u00E0rbara", "Santa Juana", "Talcahuano", "Tom\u00E9", "Yumbel", "Yungay"]			
	},
		{
                        "NombreRegion": "Coquimbo",
			"comunas": ["Andacollo", "Combarbal\u00E0", "Coquimbo", "Illapel", "La Serena", "Los Vilos", "Monte Patria", "Ovalle", "Punitaqui", "Salamanca", "Tongoy", "Vicu\u00F1"]			
	},
		{
                        "NombreRegion": "La Araucan\u00EDa",
			"comunas": ["Angol", "Arauco", "Carahue", "Collipulli", "Curacautin", "Freire", "Gorbea", "Lautaro", "Loncoche", "Mininco", "Nueva Imperial", "Padre Las Casas", "Pitrufquen", "Puc\u00F3n", "Puren", "Quepe", "Renaico", "Temuco", "Traiguen", "Victoria", "Villarrica"]			
	},
		{
                        "NombreRegion": "Los Lagos",
			"comunas": ["Achao", "Ancud", "Calbuco", "Castro", "Chait\u00E9n", "Chonchi", "Dalcahue", "Entre Lagos", "Frutillar", "Hornopir\u00E9n", "Los Lagos", "Los Muermos", "Maull\u00EDn", "Osorno", "Pargua", "Puerto Montt", "Puerto Varas", "Purranque", "Quell\u00F3n", "Quemchi", "R\u00EDo Negro", "San Pablo"]			
	},
		{
			"NombreRegion": "Los R\u00EDos",
			"comunas": ["Futrono", "Isla Teja", "La Uni\u00F3n", "Lago Ranco", "Lanco", "Mafil", "Paillaco", "Panguipulli", "R\u00EDo Bueno", "San Jos\u00E9 De La Mariquina", "Valdivia"]
	},
		{
			"NombreRegion": "Magallanes",
			"comunas": ["Natales", "Porvenir", "Puerto Williams", "Punta Arenas"]
	},
		{
			"NombreRegion": "Maule",
			"comunas": ["Cauquenes", "Constituci\u00F3n", "Cumpeo", "Curic\u00F3", "Itahue", "Linares", "Longavi", "Lontue", "Molina", "Parral", "Romeral", "San Clemente", "San Javier", "Talca", "Teno", "Villa Alegre"]
	},
		{
			"NombreRegion": "Metropolitana de Santiago",
			"comunas": ["Alto Jahuel", "Barrancas", "Batuco", "Bu\u00EDn", "Calera De Tango", "Cerrillos", "Cerro Navia", "Chicureo", "Colina", "Conchal\u00ED", "Curacav\u00ED", "El Bosque", "El Monte", "El Paico", "Estaci\u00F3n Central", "Huechuraba", "Independencia", "Isla De Maipo", "La Cisterna", "La Florida", "La Granja", "La Pintana", "La Reina", "Lampa", "Las Condes", "Lo Barnechea", "Lo Espejo", "Lo Prado", "Longovilo", "Lonqu\u00E9n", "Macul", "Maip\u00FA", "Malloco", "Melipilla", "Nos", "\u00D1u\u00F1oa", "Padre Hurtado", "Paine", "Pedro Aguirre Cerda", "Pe\u00F1aflor", "Pe\u00F1alolen", "Pirque", "Providencia", "Pudahuel", "Puente Alto", "Quilicura", "Quinta Normal", "Recoleta", "Renca", "San Bernardo", "San Joaqu\u00EDn", "San Miguel", "San Ram\u00F3n", "Santiago Centro", "Talagante", "Til Til", "Vitacura"]
	},
		{
                        "NombreRegion": "Libertador Gral. Bernardo O\u00B4Higgins",
			"comunas": ["Chepica", "Chimbarongo", "Coinco", "Coltauco", "Donihue", "Graneros", "Las Cabras", "Litueche", "Lo Miranda", "Lolol", "Machal\u00ED", "Malloa", "Marchigue", "Nancagua", "Olivar", "Palmilla", "Pelequ\u00E9n", "Peralillo", "Peumo", "Pichidegua", "Pichilemu", "Placilla", "Quinta De Tilcoco", "Rancagua", "Rengo", "Requinoa", "Rosario", "San Fernando", "San Francisco De Mostaz", "San Vicente De Tagua Tagua", "Santa Cruz"]		
	},
		{
			"NombreRegion": "Tarapac\u00E1",
			"comunas": ["Alto Hospicio", "Iquique", "Pica", "Pozo Almonte"]
	},
		{
                        "NombreRegion": "Valpara\u00EDso",
			"comunas": ["Algarrobo", "Artificio", "Cabildo", "Cartagena", "Casablanca", "Conc\u00F3n", "El Belloto", "El Mel\u00F3n", "El Quisco", "El Tabito", "El Tabo", "Hijuelas", "Isla Negra", "La Calera", "La Cruz", "La Ligua", "Las Cruces", "Limache", "Llay Llay", "Llolleo", "Los Andes", "Nogales", "Olmu\u00E9", "Pe\u00F1ablanca", "Placilla", "Puchuncav\u00ED", "Quillota", "Quilpu\u00E9", "Quintero", "Re\u00F1aca", "San Antonio", "San Felipe", "San Francisco De Limache", "San Pedro", "San Sebasti\u00E0n", "Santo Domingo", "Valpara\u00EDso", "Villa Alemana", "Vi\u00F1a Del Mar"]			
	}]
}


jQuery(document).ready(function () {

        var regioEdit = document.getElementById("regionUsEditActual").value;
        var comunEdit = document.getElementById("comunaUsEditActual").value;
        
	var iRegion = 0;
	var htmlRegion = '<option value="'+regioEdit+'">**Seleccionar**</option>';
	var htmlComunas = '<option value="'+comunEdit+'">**Seleccionar**</option>';

	jQuery.each(RegionesYcomunas.regiones, function () {
		htmlRegion = htmlRegion + '<option value="' + RegionesYcomunas.regiones[iRegion].NombreRegion + '">' + RegionesYcomunas.regiones[iRegion].NombreRegion + '</option>';
		iRegion++;
	});

	jQuery('#regionUs').html(htmlRegion);
	jQuery('#comunaUs').html(htmlComunas);

	jQuery('#regionUs').change(function () {
		var iRegiones = 0;
		var valorRegion = jQuery(this).val();
		var htmlComuna = '<option value="'+comunEdit+'">**Seleccionar**</option>';
		jQuery.each(RegionesYcomunas.regiones, function () {
			if (RegionesYcomunas.regiones[iRegiones].NombreRegion == valorRegion) {
				var iComunas = 0;
				jQuery.each(RegionesYcomunas.regiones[iRegiones].comunas, function () {
					htmlComuna = htmlComuna + '<option value="' + RegionesYcomunas.regiones[iRegiones].comunas[iComunas] + '">' + RegionesYcomunas.regiones[iRegiones].comunas[iComunas] + '</option>';
					iComunas++;
				});
			}
			iRegiones++;
		});
		jQuery('#comunaUs').html(htmlComuna);
	});
	jQuery('#comunaUs').change(function () {
		if (jQuery(this).val() == 'sin region') {
			alert('Seleccione una regi\u00F3n primero');
		} else if (jQuery(this).val() == 'sin comuna') {
			alert('Seleccione una comuna');
		}
	});
	jQuery('#regionUs').change(function () {
		if (jQuery(this).val() == 'sin region') {
			alert('Seleccione una regi\u00F3n');
		}
	});

});
